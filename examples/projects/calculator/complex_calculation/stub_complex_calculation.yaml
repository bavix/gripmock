# yaml-language-server: $schema=https://bavix.github.io/gripmock/schema/stub.json

# Client Streaming - Complex calculation with all operations (universal - works with any numbers)
- service: calculator.CalculatorService
  method: ComplexCalculation
  inputs:
    - matches:
        value: "\\d+(\\.\\d+)?"
    - matches:
        value: "\\d+(\\.\\d+)?"
    - matches:
        value: "\\d+(\\.\\d+)?"
  output:
    data:
      sum: "{{sum (extract .Requests `value`)}}"
      product: "{{mul (extract .Requests `value`)}}"
      average: "{{avg (extract .Requests `value`)}}"
      min: "{{min (extract .Requests `value`)}}"
      max: "{{max (extract .Requests `value`)}}"
      count: "{{len .Requests}}"
